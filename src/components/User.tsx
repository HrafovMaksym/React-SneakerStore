import React from "react";
import styles from "../scss/Modules/User.module.scss";

import { Link } from "react-router-dom";
import { useDispatch, useSelector } from "react-redux";
import {
  regulationUserSelector,
  setUser,
} from "../redux/slices/regulationSlice";

const User: React.FC = () => {
  const userRef = React.useRef<HTMLDivElement>(null);
  const user = useSelector(regulationUserSelector);
  const dispatch = useDispatch();
  const handleClick = (event: MouseEvent) => {
    if (userRef.current && !event.composedPath().includes(userRef.current)) {
      dispatch(setUser(false));
    }
  };
  React.useEffect(() => {
    document.body.addEventListener("mousedown", handleClick);

    return () => {
      document.body.removeEventListener("mousedown", handleClick);
    };
  }, []);

  return (
    <div
      ref={userRef}
      className={`${styles.card} ${user ? styles.visible : ""}`}
    >
      <div>
        <Link to="/Signin">Sign in </Link>
        <span>|</span>
        <Link to="/Login">Login</Link>
        <button
          className={styles.btnClose}
          onClick={() => dispatch(setUser(false))}
        >
          <svg viewBox="0 0 24 24">
            <path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"></path>
          </svg>
        </button>
      </div>
      <ul>
        <span>
          <svg viewBox="0 0 32 32" width={23} height={23}>
            <g id="about">
              <path d="M16,16A7,7,0,1,0,9,9,7,7,0,0,0,16,16ZM16,4a5,5,0,1,1-5,5A5,5,0,0,1,16,4Z" />
              <path d="M17,18H15A11,11,0,0,0,4,29a1,1,0,0,0,1,1H27a1,1,0,0,0,1-1A11,11,0,0,0,17,18ZM6.06,28A9,9,0,0,1,15,20h2a9,9,0,0,1,8.94,8Z" />
            </g>
          </svg>
          <li>My Account</li>
        </span>
        <span>
          <svg width={23} height={23} id="Layer_1" viewBox="0 0 200 200">
            <path
              className="cls-1"
              d="M100,175.69a5,5,0,0,1-2.23-.53L27.08,139.89a5,5,0,0,1-2.77-4.48V64.86a5,5,0,0,1,2.77-4.47L97.77,25.11a5,5,0,0,1,4.46,0l70.69,35.28a5,5,0,0,1,2.77,4.47v70.55a5,5,0,0,1-2.77,4.48l-70.69,35.27A5,5,0,0,1,100,175.69ZM34.31,132.32,100,165.1l65.69-32.78V68L100,35.17,34.31,68Zm136.38,3.09h0Z"
            />
            <path
              className="cls-1"
              d="M100,105a5,5,0,0,1-2.23-.52L27.09,69.34a5,5,0,1,1,4.45-9l68.46,34,68.46-34a5,5,0,1,1,4.45,9l-70.68,35.14A5,5,0,0,1,100,105Z"
            />
            <path
              className="cls-1"
              d="M135.34,87.43a5,5,0,0,1-2.22-.52L62.43,51.77a5,5,0,1,1,4.45-9L137.57,78a5,5,0,0,1-2.23,9.48Z"
            />
            <path
              className="cls-1"
              d="M100,175.69a5,5,0,0,1-5-5V100a5,5,0,0,1,10,0v70.69A5,5,0,0,1,100,175.69Z"
            />
          </svg>
          <li>My Orders</li>
        </span>
        <span>
          <svg
            width={23}
            height={23}
            id="a0d4080d-36c0-4f24-bec4-d9401f99dc7f"
            viewBox="0 0 38 38"
          >
            <path d="M19,37.44A18.44,18.44,0,1,1,37.44,19,18.461,18.461,0,0,1,19,37.44ZM19,3.06A15.94,15.94,0,1,0,34.94,19,15.957,15.957,0,0,0,19,3.06Z" />
            <circle cx="19" cy="26.242" r="1.878" />
            <path d="M19,21.95h-.012a1.249,1.249,0,0,1-1.238-1.262c.015-1.638,1.362-3.326,2.55-4.815.245-.307.48-.6.683-.872a1.513,1.513,0,0,0,.067-1.61,2.368,2.368,0,0,0-2-1.34h0c-1.447,0-2.63.87-2.63,1.9a1.25,1.25,0,0,1-2.5,0c0-2.427,2.281-4.4,5.085-4.4l.12,0a4.83,4.83,0,0,1,4.173,2.734,3.973,3.973,0,0,1-.309,4.213c-.217.291-.468.605-.73.934-.8,1-2,2.5-2,3.279A1.251,1.251,0,0,1,19,21.95Z" />
          </svg>
          <li>Returns Information</li>
        </span>
        <span>
          <svg width={23} height={23} viewBox="0 0 16 16">
            <path
              fill="black"
              d="M10.505 11.528v0.37c0 0.116-0.095 0.212-0.212 0.212v0h-0.588c-0.114-0.004-0.206-0.096-0.206-0.212 0 0 0 0 0 0v0-0.37c0-0.123 0.1-0.223 0.223-0.223v0h0.541c0.119 0.006 0.212 0.103 0.212 0.223 0 0 0 0 0 0v0zM11.175 8.223c-0.263-0.212-0.602-0.34-0.97-0.341h-0.182c-0.35 0-0.675 0.113-0.94 0.303l0.005-0.004c-0.229 0.176-0.375 0.45-0.376 0.758v0c0 0.078 0.063 0.141 0.141 0.141h0.617c0.001 0 0.002 0 0.004 0 0.098 0 0.179-0.063 0.207-0.152v-0.001c0.020-0.073 0.059-0.135 0.112-0.182v0c0.082-0.076 0.194-0.123 0.315-0.123 0.001 0 0.001 0 0.002 0h0.059c0.247 0 0.447 0.2 0.447 0.447v0c0.001 0.013 0.002 0.027 0.002 0.041s-0.001 0.028-0.002 0.042v-0.001 0.024c-0.001 0.14-0.042 0.269-0.113 0.379l0.001-0.002c-0.081 0.115-0.179 0.213-0.29 0.292l-0.004 0.002c-0.198 0.125-0.366 0.276-0.502 0.454l-0.004 0.005c-0.087 0.119-0.142 0.267-0.147 0.428v0.001c-0.001 0.006-0.001 0.012-0.001 0.018 0 0.078 0.063 0.141 0.141 0.141 0.005 0 0.009 0 0.013-0.001v0h0.67c0.080-0.005 0.145-0.063 0.159-0.14v-0.001c0.012-0.094 0.035-0.18 0.067-0.26l-0.002 0.007c0.058-0.111 0.142-0.2 0.245-0.263l0.002-0.001c0.216-0.113 0.397-0.268 0.539-0.455l0.002-0.004c0.136-0.178 0.22-0.402 0.223-0.646v-0.001c-0.024-0.363-0.186-0.686-0.434-0.916l-0.001-0.001zM1.062 9.176c-0.156 0.107-0.259 0.286-0.259 0.487 0 0 0 0.001 0 0.001v0c-0.002 0.020-0.005 0.043-0.005 0.067s0.001 0.047 0.005 0.071v-0.002c0.058 0.235 0.25 0.414 0.49 0.447h0.004c0.127 0.019 0.274 0.029 0.422 0.029 0 0 0 0 0.001 0h0.112c0.002 0 0.006 0 0.008 0 0.494 0 0.962-0.111 1.38-0.308l-0.020 0.008c0.226 0.121 0.49 0.233 0.767 0.32l0.033 0.009h0.035v-0.229c0.001-0.262 0.025-0.519 0.068-0.768l-0.004 0.027v0.029c-0.274-0.103-0.504-0.213-0.726-0.336l0.026 0.013-0.247-0.135-0.223 0.135c-0.221 0.135-0.481 0.233-0.758 0.275l-0.012 0.001c0.126-0.169 0.233-0.363 0.312-0.571l0.006-0.016 0.088-0.265-0.182-0.2c-0.582-0.598-0.942-1.415-0.947-2.315v-0.001c0-2.052 1.952-3.733 4.327-3.733 0.042-0.001 0.093-0.002 0.143-0.002 1.676 0 3.13 0.944 3.862 2.331l0.012 0.024c0.118 0 0.247 0 0.382 0h0.082c0.171 0 0.341 0 0.523 0-0.79-1.933-2.656-3.271-4.835-3.271-0.049 0-0.098 0.001-0.146 0.002h0.007c-2.887 0-5.238 2.087-5.238 4.651 0 0.002 0 0.006 0 0.009 0 1.029 0.369 1.971 0.982 2.702l-0.006-0.007c-0.116 0.215-0.28 0.392-0.476 0.52l-0.006 0.004zM15.443 9.999c-0.009 1.051-0.39 2.011-1.017 2.759l0.006-0.007c0.115 0.215 0.276 0.39 0.472 0.52l0.005 0.004c0.155 0.106 0.258 0.282 0.259 0.482v0c0.002 0.020 0.005 0.043 0.005 0.067s-0.001 0.047-0.005 0.071v-0.002c-0.058 0.235-0.25 0.414-0.49 0.447h-0.004c-0.127 0.019-0.274 0.029-0.423 0.029h-0.1c-0.004 0-0.007 0-0.011 0-0.509 0-0.99-0.118-1.419-0.326l0.019 0.008c-0.758 0.389-1.654 0.617-2.605 0.617-0.006 0-0.013 0-0.019 0h0.001c-2.94 0-5.291-2.117-5.291-4.703s2.393-4.703 5.291-4.703 5.291 2.111 5.291 4.703zM14.532 9.999c0-2.087-1.964-3.786-4.386-3.786s-4.386 1.699-4.386 3.786 1.964 3.78 4.386 3.78v0c0.007 0 0.014 0 0.022 0 0.882 0 1.71-0.233 2.423-0.642l-0.024 0.013 0.223-0.141 0.223 0.141c0.232 0.135 0.503 0.233 0.794 0.275l0.012 0.001c-0.127-0.169-0.234-0.363-0.312-0.571l-0.006-0.016-0.094-0.259 0.188-0.2c0.573-0.616 0.928-1.442 0.941-2.349v-0.002z"
            ></path>
          </svg>
          <li>Contact Prefences</li>
        </span>
      </ul>
    </div>
  );
};
export default User;

{
  /* <div>
    <Link to="/Signin">Sign in </Link>
    <Link to="/Login">Login</Link>
    <button
      className={styles.btnClose}
      onClick={() => dispatch(setUser(false))}
    >
      <svg viewBox="0 0 24 24">
        <path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"></path>
      </svg>
    </button>
  </div>
  <ul>
    <span>
      <svg viewBox="0 0 32 32" width={23} height={23}>
        <g id="about">
          <path d="M16,16A7,7,0,1,0,9,9,7,7,0,0,0,16,16ZM16,4a5,5,0,1,1-5,5A5,5,0,0,1,16,4Z" />
          <path d="M17,18H15A11,11,0,0,0,4,29a1,1,0,0,0,1,1H27a1,1,0,0,0,1-1A11,11,0,0,0,17,18ZM6.06,28A9,9,0,0,1,15,20h2a9,9,0,0,1,8.94,8Z" />
        </g>
      </svg>
      <li>My Account</li>
    </span>
    <span>
      <svg width={23} height={23} id="Layer_1" viewBox="0 0 200 200">
        <path
          className="cls-1"
          d="M100,175.69a5,5,0,0,1-2.23-.53L27.08,139.89a5,5,0,0,1-2.77-4.48V64.86a5,5,0,0,1,2.77-4.47L97.77,25.11a5,5,0,0,1,4.46,0l70.69,35.28a5,5,0,0,1,2.77,4.47v70.55a5,5,0,0,1-2.77,4.48l-70.69,35.27A5,5,0,0,1,100,175.69ZM34.31,132.32,100,165.1l65.69-32.78V68L100,35.17,34.31,68Zm136.38,3.09h0Z"
        />
        <path
          className="cls-1"
          d="M100,105a5,5,0,0,1-2.23-.52L27.09,69.34a5,5,0,1,1,4.45-9l68.46,34,68.46-34a5,5,0,1,1,4.45,9l-70.68,35.14A5,5,0,0,1,100,105Z"
        />
        <path
          className="cls-1"
          d="M135.34,87.43a5,5,0,0,1-2.22-.52L62.43,51.77a5,5,0,1,1,4.45-9L137.57,78a5,5,0,0,1-2.23,9.48Z"
        />
        <path
          className="cls-1"
          d="M100,175.69a5,5,0,0,1-5-5V100a5,5,0,0,1,10,0v70.69A5,5,0,0,1,100,175.69Z"
        />
      </svg>
      <li>My Orders</li>
    </span>
    <span>
      <svg
        width={23}
        height={23}
        id="a0d4080d-36c0-4f24-bec4-d9401f99dc7f"
        viewBox="0 0 38 38"
      >
        <path d="M19,37.44A18.44,18.44,0,1,1,37.44,19,18.461,18.461,0,0,1,19,37.44ZM19,3.06A15.94,15.94,0,1,0,34.94,19,15.957,15.957,0,0,0,19,3.06Z" />
        <circle cx="19" cy="26.242" r="1.878" />
        <path d="M19,21.95h-.012a1.249,1.249,0,0,1-1.238-1.262c.015-1.638,1.362-3.326,2.55-4.815.245-.307.48-.6.683-.872a1.513,1.513,0,0,0,.067-1.61,2.368,2.368,0,0,0-2-1.34h0c-1.447,0-2.63.87-2.63,1.9a1.25,1.25,0,0,1-2.5,0c0-2.427,2.281-4.4,5.085-4.4l.12,0a4.83,4.83,0,0,1,4.173,2.734,3.973,3.973,0,0,1-.309,4.213c-.217.291-.468.605-.73.934-.8,1-2,2.5-2,3.279A1.251,1.251,0,0,1,19,21.95Z" />
      </svg>
      <li>Returns Information</li>
    </span>
    <span>
      <svg width={23} height={23} viewBox="0 0 16 16">
        <path
          fill="black"
          d="M10.505 11.528v0.37c0 0.116-0.095 0.212-0.212 0.212v0h-0.588c-0.114-0.004-0.206-0.096-0.206-0.212 0 0 0 0 0 0v0-0.37c0-0.123 0.1-0.223 0.223-0.223v0h0.541c0.119 0.006 0.212 0.103 0.212 0.223 0 0 0 0 0 0v0zM11.175 8.223c-0.263-0.212-0.602-0.34-0.97-0.341h-0.182c-0.35 0-0.675 0.113-0.94 0.303l0.005-0.004c-0.229 0.176-0.375 0.45-0.376 0.758v0c0 0.078 0.063 0.141 0.141 0.141h0.617c0.001 0 0.002 0 0.004 0 0.098 0 0.179-0.063 0.207-0.152v-0.001c0.020-0.073 0.059-0.135 0.112-0.182v0c0.082-0.076 0.194-0.123 0.315-0.123 0.001 0 0.001 0 0.002 0h0.059c0.247 0 0.447 0.2 0.447 0.447v0c0.001 0.013 0.002 0.027 0.002 0.041s-0.001 0.028-0.002 0.042v-0.001 0.024c-0.001 0.14-0.042 0.269-0.113 0.379l0.001-0.002c-0.081 0.115-0.179 0.213-0.29 0.292l-0.004 0.002c-0.198 0.125-0.366 0.276-0.502 0.454l-0.004 0.005c-0.087 0.119-0.142 0.267-0.147 0.428v0.001c-0.001 0.006-0.001 0.012-0.001 0.018 0 0.078 0.063 0.141 0.141 0.141 0.005 0 0.009 0 0.013-0.001v0h0.67c0.080-0.005 0.145-0.063 0.159-0.14v-0.001c0.012-0.094 0.035-0.18 0.067-0.26l-0.002 0.007c0.058-0.111 0.142-0.2 0.245-0.263l0.002-0.001c0.216-0.113 0.397-0.268 0.539-0.455l0.002-0.004c0.136-0.178 0.22-0.402 0.223-0.646v-0.001c-0.024-0.363-0.186-0.686-0.434-0.916l-0.001-0.001zM1.062 9.176c-0.156 0.107-0.259 0.286-0.259 0.487 0 0 0 0.001 0 0.001v0c-0.002 0.020-0.005 0.043-0.005 0.067s0.001 0.047 0.005 0.071v-0.002c0.058 0.235 0.25 0.414 0.49 0.447h0.004c0.127 0.019 0.274 0.029 0.422 0.029 0 0 0 0 0.001 0h0.112c0.002 0 0.006 0 0.008 0 0.494 0 0.962-0.111 1.38-0.308l-0.020 0.008c0.226 0.121 0.49 0.233 0.767 0.32l0.033 0.009h0.035v-0.229c0.001-0.262 0.025-0.519 0.068-0.768l-0.004 0.027v0.029c-0.274-0.103-0.504-0.213-0.726-0.336l0.026 0.013-0.247-0.135-0.223 0.135c-0.221 0.135-0.481 0.233-0.758 0.275l-0.012 0.001c0.126-0.169 0.233-0.363 0.312-0.571l0.006-0.016 0.088-0.265-0.182-0.2c-0.582-0.598-0.942-1.415-0.947-2.315v-0.001c0-2.052 1.952-3.733 4.327-3.733 0.042-0.001 0.093-0.002 0.143-0.002 1.676 0 3.13 0.944 3.862 2.331l0.012 0.024c0.118 0 0.247 0 0.382 0h0.082c0.171 0 0.341 0 0.523 0-0.79-1.933-2.656-3.271-4.835-3.271-0.049 0-0.098 0.001-0.146 0.002h0.007c-2.887 0-5.238 2.087-5.238 4.651 0 0.002 0 0.006 0 0.009 0 1.029 0.369 1.971 0.982 2.702l-0.006-0.007c-0.116 0.215-0.28 0.392-0.476 0.52l-0.006 0.004zM15.443 9.999c-0.009 1.051-0.39 2.011-1.017 2.759l0.006-0.007c0.115 0.215 0.276 0.39 0.472 0.52l0.005 0.004c0.155 0.106 0.258 0.282 0.259 0.482v0c0.002 0.020 0.005 0.043 0.005 0.067s-0.001 0.047-0.005 0.071v-0.002c-0.058 0.235-0.25 0.414-0.49 0.447h-0.004c-0.127 0.019-0.274 0.029-0.423 0.029h-0.1c-0.004 0-0.007 0-0.011 0-0.509 0-0.99-0.118-1.419-0.326l0.019 0.008c-0.758 0.389-1.654 0.617-2.605 0.617-0.006 0-0.013 0-0.019 0h0.001c-2.94 0-5.291-2.117-5.291-4.703s2.393-4.703 5.291-4.703 5.291 2.111 5.291 4.703zM14.532 9.999c0-2.087-1.964-3.786-4.386-3.786s-4.386 1.699-4.386 3.786 1.964 3.78 4.386 3.78v0c0.007 0 0.014 0 0.022 0 0.882 0 1.71-0.233 2.423-0.642l-0.024 0.013 0.223-0.141 0.223 0.141c0.232 0.135 0.503 0.233 0.794 0.275l0.012 0.001c-0.127-0.169-0.234-0.363-0.312-0.571l-0.006-0.016-0.094-0.259 0.188-0.2c0.573-0.616 0.928-1.442 0.941-2.349v-0.002z"
        ></path>
      </svg>
      <li>Contact Prefences</li>
    </span>
  </ul> */
}
